"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[70],{70:(t,e,n)=>{n.r(e),n.d(e,{Cart:()=>J});var o=n(769),a=n(951),r=n(976),i=n(169),l=n(132),s=n(492),c=n(597),d=n(234),u=n(19);function m(t){var e=p();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function p(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var h=function(t){(0,l.Z)(n,t);var e=m(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return(0,a.Z)(this,n),e.call(this,{tag:"p",className:"modal__error",textContent:"".concat(t),attributes:{style:"color: red"}})}return(0,r.Z)(n)}(u.H);function v(t){var e=f();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function f(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var g=function(t){(0,l.Z)(n,t);var e=v(n);function n(){var t;return(0,a.Z)(this,n),(t=e.call(this,{className:["modal","hide"]})).modalInner=new u.H({className:"modal__inner"}),t.modalInputs=new u.H({className:"modal__inputs"}),t.modalName=new u.H({className:"modal__name"}),t.modalNameInput=new u.H({tag:"input",className:"modal__name-input",attributes:{type:"text",placeholder:"Name"}}),t.modalPhone=new u.H({className:"modal__phone"}),t.modalPhoneInput=new u.H({tag:"input",className:"modal__phone-input",attributes:{type:"text",placeholder:"Phone Number"}}),t.modalDelivery=new u.H({className:"modal__delivery"}),t.modalDeliveryInput=new u.H({tag:"input",className:"modal__delivery-input",attributes:{type:"text",placeholder:"Delivery address"}}),t.modalEmail=new u.H({className:"modal__email"}),t.modalEmailInput=new u.H({tag:"input",className:"modal__email-input",attributes:{type:"text",placeholder:"E-mail"}}),t.modalCard=new u.H({className:"modal__card"}),t.modalCardNumber=new u.H({className:"modal__card-number"}),t.modalCardNumberImg=new u.H({tag:"img",className:"modal__card-number-img",attributes:{src:"https://img.lovepik.com/free-png/20210919/lovepik-credit-card-png-image_400515492_wh1200.png",alt:"card logo",width:"20"}}),t.modalCardNumberInput=new u.H({tag:"input",className:"modal__card-number-input",attributes:{type:"text",placeholder:"Card Number"}}),t.modalCardValid=new u.H({className:"modal__card-valid"}),t.modalCardValidInput=new u.H({tag:"input",className:"modal__card-valid-input",attributes:{type:"text",placeholder:"Valid Thru"}}),t.modalCardCvv=new u.H({className:"modal__card-cvv"}),t.modalCardCvvInput=new u.H({tag:"input",className:"modal__card-cvv-input",attributes:{type:"text",placeholder:"CVV"}}),t.confirmBtn=new u.H({tag:"button",className:"modal__confirm-btn",textContent:"CONFIRM"}),t.errors=[],t.closeOnOverlay(),t.validateNameInput(),t.onSubmit(),t}return(0,r.Z)(n,[{key:"render",value:function(){this.modalName.addChildren(this.modalNameInput),this.modalPhone.addChildren(this.modalPhoneInput),this.modalDelivery.addChildren(this.modalDeliveryInput),this.modalEmail.addChildren(this.modalEmailInput),this.modalCardValid.addChildren(this.modalCardValidInput),this.modalCardCvv.addChildren(this.modalCardCvvInput),this.modalInputs.addChildren(this.modalName,this.modalPhone,this.modalDelivery,this.modalEmail),this.modalCardNumber.addChildren(this.modalCardNumberImg.elem,this.modalCardNumberInput.elem),this.modalCard.addChildren(this.modalCardNumber.elem,this.modalCardValid.elem,this.modalCardCvv.elem),this.modalInner.addChildren(this.modalInputs.elem,this.modalCard.elem,this.confirmBtn),this.addChildren(this.modalInner)}},{key:"closeOnOverlay",value:function(){var t=this;this.elem.addEventListener("click",function(e){e.target instanceof HTMLElement&&e.target===t.elem&&(t.elem.classList.remove("show"),t.elem.classList.add("hide"))})}},{key:"validateInput",value:function(t,e,n){var o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"error",r=new h(a);e.test(t.value)?n.children.forEach(function(t){t.elem.classList.contains("modal__error")&&(t.destroy(),n.children.splice(n.children.indexOf(t),1),o.errors.pop())}):n.children.some(function(t){return t.elem.classList.contains("modal__error")})||(n.addChildren(r),this.errors.push(r))}},{key:"validateNameInput",value:function(){var t=this;this.modalNameInput.elem.addEventListener("change",function(e){var n=e.target;t.validateInput(n,/^\S{3,} \S{3,}$/,t.modalName)}),this.modalPhoneInput.elem.addEventListener("change",function(e){var n=e.target;t.validateInput(n,/^\+[0-9]{9,}$/,t.modalPhone)}),this.modalDeliveryInput.elem.addEventListener("change",function(e){var n=e.target;t.validateInput(n,/^\S{5,} \S{5,} \S{5,}$/,t.modalDelivery)}),this.modalEmailInput.elem.addEventListener("change",function(e){var n=e.target;t.validateInput(n,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t.modalEmail)}),this.modalCardNumberInput.elem.addEventListener("input",function(e){var n=e.target;(/\D/.test(n.value)||n.value.length>16)&&(n.value=n.value.slice(0,n.value.length-1)),"3"===n.value.slice(0,1)?t.modalCardNumberImg.elem.setAttribute("src","https://www.aexp-static.com/cdaas/one/statics/axp-static-assets/1.8.0/package/dist/img/logos/dls-logo-stack.svg"):"4"===n.value.slice(0,1)?t.modalCardNumberImg.elem.setAttribute("src","https://cdn.visa.com/v2/assets/images/logos/visa/blue/logo.png"):"5"===n.value.slice(0,1)?t.modalCardNumberImg.elem.setAttribute("src","https://www.mastercard.hu/content/dam/public/mastercardcom/eu/hu/images/mc-logo-52.svg"):t.modalCardNumberImg.elem.setAttribute("src","https://img.lovepik.com/free-png/20210919/lovepik-credit-card-png-image_400515492_wh1200.png")}),this.modalCardNumberInput.elem.addEventListener("change",function(e){var n=e.target;t.validateInput(n,/^\d{16,}$/,t.modalCardNumber,"error in card number")}),this.modalCardCvvInput.elem.addEventListener("input",function(t){var e=t.target;(/\D/.test(e.value)||e.value.length>3)&&(e.value=e.value.slice(0,e.value.length-1))}),this.modalCardCvvInput.elem.addEventListener("change",function(e){var n=e.target;t.validateInput(n,/^\d{3,}$/,t.modalCardCvv,"error in CVV")}),this.modalCardValidInput.elem.addEventListener("keypress",function(){var e=t.modalCardValidInput.elem;e.setAttribute("oldVal",e.value)}),this.modalCardValidInput.elem.addEventListener("input",function(t){var e,n=t.target;(/\D/.test(n.value.replace("/",""))||n.value.replace("/","").length>4)&&(n.value=n.value.slice(0,n.value.length-1)),2===n.value.length&&(null===(e=n.getAttribute("oldVal"))||void 0===e?void 0:e.length)===1&&(n.value=n.value.replace("/",""),n.value+="/")}),this.modalCardValidInput.elem.addEventListener("change",function(e){var n=e.target;t.validateInput(n,/^(0[0-9]|1[0-2])\/(\d\d)$/,t.modalCardValid,"not valid Date")})}},{key:"onSubmit",value:function(){var t=this;this.confirmBtn.elem.addEventListener("click",function(){t.validateInput(t.modalNameInput.elem,/^\S{3,} \S{3,}$/,t.modalName),t.validateInput(t.modalPhoneInput.elem,/^\+[0-9]{9,}$/,t.modalPhone),t.validateInput(t.modalDeliveryInput.elem,/^\S{5,} \S{5,} \S{5,}$/,t.modalDelivery),t.validateInput(t.modalEmailInput.elem,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t.modalEmail),t.validateInput(t.modalCardNumberInput.elem,/^\d{16,}$/,t.modalCardNumber,"error in card number"),t.validateInput(t.modalCardValidInput.elem,/^(0[0-9]|1[0-2])\/(\d\d)$/,t.modalCardValid,"not valid Date"),t.validateInput(t.modalCardCvvInput.elem,/^\d{3,}$/,t.modalCardCvv,"error in CVV"),0===t.errors.length&&(t.modalInner.elem.textContent="Thanks for your order. Redirect to the store",setTimeout(function(){window.localStorage.clear(),window.location.hash="#main",window.location.reload()},3e3))})}}]),n}(u.H);function C(t){var e=y();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function y(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var w=function(t){(0,l.Z)(n,t);var e=C(n);function n(t){return(0,a.Z)(this,n),e.call(this,t)}return(0,r.Z)(n,[{key:"onCountChange",value:function(t,e){var n=this;this.counterDec.elem.addEventListener("click",function(){if("1"===n.count.elem.getAttribute("oldvalue")&&"1"===n.count.elem.getAttribute("value")){var o,a=JSON.parse(null!==(o=window.localStorage.getItem("productsList"))&&void 0!==o?o:"[]");a=a.filter(function(t){return t.id!==e}),window.localStorage.setItem("productsList",JSON.stringify(a))}t()}),this.counterInc.elem.addEventListener("click",t)}}]),n}(n(722).F);function N(t){var e=_();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function _(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var I=function(t){(0,l.Z)(n,t);var e=N(n);function n(t,o,r,l,s,c,d,m,p){var h;return(0,a.Z)(this,n),(h=e.call(this,{tag:"div",className:"order"})).id=d,h.price=s,h.amount=c,h.number=new u.H({tag:"div",className:"order__number",textContent:"".concat(p)}),h.image=new u.H({tag:"div",className:"order__image",attributes:{style:"background-image: url(".concat(o,")")}}),h.info=new u.H({tag:"div",className:"order__info"}),h.title=new u.H({tag:"div",className:"order__info-title",textContent:"".concat(t)}),h.desc=new u.H({tag:"div",className:"order__info-desc",textContent:"".concat(r)}),h.inStock=new u.H({tag:"div",className:"order__instock",textContent:"in stock "}),h.inStockSpan=new u.H({tag:"span",className:"order__instock-span",textContent:"".concat(l)}),h.orderCounter=new w(l),h.orderCounter.count.elem instanceof HTMLInputElement&&h.orderCounter.count.elem.setAttribute("value","".concat(c)),h.orderCounter.render(),h.orderCounter.onCountChange(h.updateOrder.bind((0,i.Z)(h)),d),h.orderCounter.onCountChange(m,d),h.orderPrice=new u.H({tag:"div",className:"order__price",textContent:"".concat(s*c)}),h.orderPriceSpan=new u.H({tag:"span",className:"order__price-span",textContent:"$"}),h.orderDelete=new u.H({tag:"div",className:"order__delete"}),h}return(0,r.Z)(n,[{key:"render",value:function(){this.orderPrice.addChildren(this.orderPriceSpan.elem),this.inStock.addChildren(this.inStockSpan),this.info.addChildren(this.title.elem,this.desc.elem),this.addChildren(this.number.elem,this.image.elem,this.info.elem,this.inStock.elem,this.orderCounter.elem,this.orderPrice.elem,this.orderDelete.elem)}},{key:"updateOrder",value:function(){var t,e,n,o=this,a=JSON.parse(null!==(e=window.localStorage.getItem("productsList"))&&void 0!==e?e:"[]"),r=a.findIndex(function(t){return t.id===o.id}),i=null!==(n=this.orderCounter.count.elem.getAttribute("value"))&&void 0!==n?n:0;a[r]?(a[r].amount=+i,window.localStorage.setItem("productsList",JSON.stringify(a)),this.orderPrice.elem.textContent="".concat(+(null!==(t=this.orderCounter.count.elem.getAttribute("value"))&&void 0!==t?t:1)*this.price,"$")):this.destroy()}}]),n}(u.H),H=[{id:"alt",descr:"Happy Alt - 10",disc:10},{id:"salt",descr:"Happy Second Alt - 50",disc:50}];function b(t){var e=P();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function P(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Z=function(t){(0,l.Z)(n,t);var e=b(n);function n(){var t;return(0,a.Z)(this,n),(t=e.call(this,{tag:"div",className:"promo__hint"})).promoHintInner=new u.H({className:"promo__hint-inner"}),t.promoHintText=new u.H({tag:"p",className:"promo__hint-text"}),t.promoHintBtn=new u.H({tag:"button",className:"promo__hint-button",textContent:"Add"}),t}return(0,r.Z)(n,[{key:"render",value:function(){this.promoHintInner.addChildren(this.promoHintText,this.promoHintBtn),this.addChildren(this.promoHintInner)}},{key:"btnOnClick",value:function(t,e){this.promoHintBtn.elem.onclick=function(){var n,o=JSON.parse(null!==(n=window.localStorage.getItem("usedPromos"))&&void 0!==n?n:"[]");o.find(function(e){return e.id===t.id})||(o.push(t),window.localStorage.setItem("usedPromos",JSON.stringify(o)),e())}}}]),n}(u.H);function k(t){var e=S();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function S(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var x=function(t){(0,l.Z)(n,t);var e=k(n);function n(t,o){var r;return(0,a.Z)(this,n),(r=e.call(this,{tag:"div",className:"promo__used-code",attributes:{"data-id":o}})).id=o,r.promoUsedCodeName=new u.H({tag:"p",className:"promo__used-code-name",textContent:t}),r.promoUsedCodeBtn=new u.H({tag:"button",className:"promo__used-code-btn",textContent:"Drop"}),r}return(0,r.Z)(n,[{key:"render",value:function(){this.addChildren(this.promoUsedCodeName,this.promoUsedCodeBtn)}}]),n}(u.H);function R(t){var e=L();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function L(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var B=function(t){(0,l.Z)(n,t);var e=R(n);function n(t,o){var r;return(0,a.Z)(this,n),(r=e.call(this,{tag:"div",className:"promo__used"})).promoUsedTitle=new u.H({tag:"h3",className:"promo__used-title",textContent:"Applied codes"}),r.promoUsedCodes=new u.H({tag:"div",className:"promo__used-codes"}),r.promoUsedCode=r.updatePromos(t,o),r}return(0,r.Z)(n,[{key:"render",value:function(){var t;(t=this.promoUsedCodes).addChildren.apply(t,(0,o.Z)(this.promoUsedCode)),this.addChildren(this.promoUsedTitle,this.promoUsedCodes)}},{key:"updatePromos",value:function(t,e){var n,o=JSON.parse(null!==(n=window.localStorage.getItem("usedPromos"))&&void 0!==n?n:"[]").map(function(t){var e=new x(t.descr,t.id);return e.render(),e});return this.promoUsedCode&&(this.promoUsedCodes.destroy(),this.promoUsedCode=o,this.render()),o.length>0?(t.elem.classList.add("old-price"),e.elem.classList.add("show")):(t.elem.classList.remove("old-price"),e.elem.classList.add("hide")),o}}]),n}(u.H);function O(t){var e=D();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function D(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var E=function(t){(0,l.Z)(n,t);var e=O(n);function n(t,o,r){var i;return(0,a.Z)(this,n),(i=e.call(this,{tag:"div",className:"promo"})).promoUsed=new B(o,r),i.promoUsed.render(),i.promoInput=new u.H({tag:"input",className:"total__input",attributes:{type:"text",placeholder:"enter promocode"}}),i.promoHint=new Z,i.promoVars=new u.H({tag:"p",className:"promo__options",textContent:"Promo for test: 'ALT', 'SALT'"}),i.checkForPromo(t),i}return(0,r.Z)(n,[{key:"render",value:function(){this.addChildren(this.promoUsed,this.promoInput,this.promoHint,this.promoVars)}},{key:"checkForPromo",value:function(t){this.promoInput.elem.addEventListener("input",t)}}]),n}(u.H);function A(t){var e=T();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function T(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var V=function(t){(0,l.Z)(n,t);var e=A(n);function n(){var t,o,r;return(0,a.Z)(this,n),(r=e.call(this,{tag:"div",className:"total"})).totalPrice=new u.H({tag:"div",className:"total__price",textContent:"".concat(r.calcTotalPrice(JSON.parse(null!==(t=window.localStorage.getItem("productsList"))&&void 0!==t?t:"[]")),"$")}),r.totalPriceDiscount=new u.H({tag:"div",className:"total__price",textContent:"".concat(r.calcAmountWithPromo(),"$")}),r.Promo=new E(r.update.bind((0,i.Z)(r)),r.totalPrice,r.totalPriceDiscount),r.Promo.render(),r.onPromoDelete(),r.title=new u.H({tag:"div",className:"total__title",textContent:"In cart"}),r.totalCount=new u.H({tag:"div",className:"total__count",textContent:"".concat(r.calcTotalAmount(JSON.parse(null!==(o=window.localStorage.getItem("productsList"))&&void 0!==o?o:"[]"))," items")}),r.totalBtn=new u.H({tag:"button",className:"total__btn",textContent:"Buy now"}),r}return(0,r.Z)(n,[{key:"render",value:function(){this.addChildren(this.title.elem,this.totalCount.elem,this.Promo,this.totalPrice.elem,this.totalPriceDiscount.elem,this.totalBtn.elem)}},{key:"calcTotalPrice",value:function(t){return t.reduce(function(t,e){return+t+ +e.price*+e.amount},0)}},{key:"calcTotalAmount",value:function(t){return t.reduce(function(t,e){return+t+ +e.amount},0)}},{key:"calcAmountWithPromo",value:function(){var t,e,n=this.calcTotalPrice(JSON.parse(null!==(t=window.localStorage.getItem("productsList"))&&void 0!==t?t:"[]")),o=JSON.parse(null!==(e=window.localStorage.getItem("usedPromos"))&&void 0!==e?e:"[]").reduce(function(t,e){return t+ +e.disc},0);return Math.round(n*+"0.".concat(100-o))}},{key:"updateDiscountTitle",value:function(){this.totalPriceDiscount.elem.textContent="".concat(this.calcAmountWithPromo(),"$")}},{key:"update",value:function(t){var e=t.target;if(e){var n=H.find(function(t){return t.id===e.value.toLowerCase()});null!=n&&n.id?(this.Promo.promoHint.promoHintText.elem.textContent=n.descr,this.Promo.promoHint.render(),this.Promo.promoHint.btnOnClick(n,this.updateTitle.bind(this))):this.Promo.promoHint.promoHintInner.destroy()}}},{key:"updateTitle",value:function(){this.Promo.promoUsed.updatePromos(this.totalPrice,this.totalPriceDiscount),this.updateDiscountTitle(),this.onPromoDelete()}},{key:"onPromoDelete",value:function(){var t=this;this.Promo.promoUsed.promoUsedCode.forEach(function(e){e.promoUsedCodeBtn.elem.addEventListener("click",function(){var n,o=JSON.parse(null!==(n=window.localStorage.getItem("usedPromos"))&&void 0!==n?n:"[]");o=o.filter(function(t){return t.id!==e.id}),window.localStorage.setItem("usedPromos",JSON.stringify(o)),e.destroy(),t.updateDiscountTitle(),0===o.length&&(t.totalPrice.elem.classList.remove("old-price"),t.totalPriceDiscount.elem.classList.remove("show"),t.totalPriceDiscount.elem.classList.add("hide"))})})}}]),n}(u.H);function U(t){var e=$();return function(){var n,o=(0,c.Z)(t);if(e){var a=(0,c.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,s.Z)(this,n)}}function $(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var J=function(t){(0,l.Z)(n,t);var e=U(n);function n(){var t,o;return(0,a.Z)(this,n),(o=e.call(this,{tag:"div",className:"cart-buy"})).prev=new u.H({tag:"a",className:"prev",textContent:"Back to shopping",attributes:{href:"#main"}}),o.title=new u.H({tag:"h3",className:"shopping-title",textContent:"Cart"}),o.wrapper=new u.H({tag:"div",className:"wrapper-cart"}),o.shopping=new u.H({tag:"div",className:"shopping"}),o.orders=JSON.parse(null!==(t=window.localStorage.getItem("productsList"))&&void 0!==t?t:"[]").map(function(t,e){var n=new I(t.title,t.thumbnail,t.description,t.stock,t.price,t.amount,t.id,o.updateOnCount.bind((0,i.Z)(o)),e+1);return n.render(),n}),o.total=new V,o.total.render(),o.Modal=new g,o.Modal.render(),o.onBuyBtn(),o}return(0,r.Z)(n,[{key:"render",value:function(){var t;(t=this.shopping).addChildren.apply(t,(0,o.Z)(this.orders)),this.wrapper.addChildren(this.shopping.elem,this.total),this.addChildren(this.prev.elem,this.title.elem,this.wrapper.elem,this.Modal)}},{key:"updateOnCount",value:function(){var t,e=JSON.parse(null!==(t=window.localStorage.getItem("productsList"))&&void 0!==t?t:"[]"),n="".concat(this.total.calcTotalPrice(e),"$"),o="".concat(this.total.calcTotalAmount(e));this.total.totalPrice.elem.textContent=n,this.total.updateDiscountTitle(),this.total.totalCount.elem.textContent="".concat(o," items"),d.l.header.Cart.updateCartNum(),d.l.header.updateTotal()}},{key:"onBuyBtn",value:function(){var t=this;this.total.totalBtn.elem.addEventListener("click",function(){t.Modal.elem.classList.remove("hide"),t.Modal.elem.classList.add("show")})}}]),n}(u.H)}}]);